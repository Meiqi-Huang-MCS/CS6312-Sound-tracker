<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="robots" content="index, follow"/>
    <link rel="shortcut icon" type="image/png" th:href="@{${staticpath}+'favicon.png'}">
    <link rel="stylesheet" type="text/css" th:href="@{${staticpath}+'css/bootstrap.min.css?8733'}">
    <link rel="stylesheet" type="text/css" th:href="@{${staticpath}+'style.css?7146'}">
    <link rel="stylesheet" type="text/css" th:href="@{${staticpath}+'css/all.min.css'}">
    <link rel="stylesheet" type="text/css" th:href="@{${staticpath}+'css/all.min.css'}">
    <link rel="stylesheet" type="text/css" th:href="@{${staticpath}+'css/style.css'}">
    <link href='https://fonts.googleapis.com/css?family=Josefin+Sans&display=swap&subset=latin,latin-ext'
          rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Home</title>


    <!-- Analytics -->

    <!-- Analytics END -->

</head>
<body>

<!-- Preloader -->
<div id="page-loading-blocs-notifaction" class="page-preloader"></div>
<!-- Preloader END -->


<!-- Main container -->
<div class="page-container">

    <!-- bloc-0 -->
    <div class="bloc l-bloc " id="bloc-0">
        <div class="container bloc-sm bloc-sm-lg">
            <div class="row">
                <div class="col">
                    <nav class="navbar navbar-light row navbar-expand-md" role="navigation">
                        <a class="navbar-brand label-noise-rate-style" href="#">University college Cork</a>
                        <button id="nav-toggle" type="button"
                                class="ml-auto ui-navbar-toggler navbar-toggler border-0 p-0" data-toggle="collapse"
                                data-target=".navbar-42515" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse navbar-42515">
                            <ul class="site-navigation nav navbar-nav ml-auto label-noise-rate-style">
                                <li class="nav-item">
                                    <a class="navbar-brand label-noise-rate-style" href="#">Home</a>
                                </li>
                            </ul>
                        </div>
                        <div class="navbar-content-area d-block col-12 col-md-3 col-lg-2">
                            <div class="row">
                                <div class="align-self-center col-4 text-left">
                                    <a href="https://blocsapp.com/"><span class="fab fa-facebook-f icon-md"></span></a>
                                </div>
                                <div class="align-self-center col-4 text-center">
                                    <a href="https://blocsapp.com/"><span
                                            class="fab fa-twitter float-md-none icon-md"></span></a>
                                </div>
                                <div class="align-self-center col-4 text-right">
                                    <a href="https://blocsapp.com/"><span
                                            class="fab fa-instagram float-lg-none icon-md"></span></a>
                                </div>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!-- bloc-0 END -->
    <div th:each="audioInfo : ${audioInfos}">

        <div th:id="'div'+${audioInfo.count}">
            <input type="hidden" th:id="'latitude'+${audioInfo.count}" th:value="${audioInfo.latitude}">
            <input type="hidden" th:id="'longitude'+${audioInfo.count}" th:value="${audioInfo.longtitude}">
            <input type="hidden" th:id="'version'+${audioInfo.count}" th:value="${audioInfo.count}">
            <input type="hidden" th:id="'currentvolume'+${audioInfo.count}" th:value="${audioInfo.currentvolume}">
            <input type="hidden" th:id="'noiserate'+${audioInfo.count}" th:value="${audioInfo.noiserate}">
        </div>

    </div>

    <!-- bloc-1 -->
    <div class="bloc l-bloc" id="bloc-1">
        <div class="container bloc-lg" style="
    		padding-bottom: 0px;
			">
            <div class="row align-items-center">

                <div class="col-lg-4 align-self-center" style="height:300px;width:80px;overflow:auto;">
					<label class="label-noise-rate-style">History</label>

						<div class="text-center" th:each="audioInfo : ${audioInfos}">
							<label class="label-noise-rate-style">History</label>
							<input type="button" class="btn btn-d btn-xl btn-rd" style="
							padding-right: 50px;
    						padding-left: 50px;
"						 th:value="${audioInfo.count}" onclick="show_details(this.value)"/>
						</div>
                </div>

                <div class="col-sm-4 offset-lg-2 col-lg-5">
					<label class="label-noise-rate-style">Detail</label>
                    <div class="text-lg-center">
                        <div class="form-group">
                            <label class="label-style" id="id">
                                id<br>
                            </label>
                        </div>
                        <div class="form-group">
                           <label class="label-noise-rate-style" id="noiserate">noiserate</label>
                            <label id="starbar"></label>
                        </div>
                        <div class="form-group">
                            <label class="label-noise-rate-style" id="currentvolume">
                                average volume<br>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="label-noise-rate-style" id="latitude">
                                latitude<br>
                            </label>
                        </div>
                        <div class="form-group label-noise-rate-style">
                            <label class="label-noise-rate-style" id="longitude">
                                longitude<br>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- bloc-1 END -->

    <!-- bloc-2 -->
    <div class="bloc l-bloc" id="bloc-2">
        <div class="container bloc-xxl-lg">
            <div class="row">
                <div class="col">
                    <div id="map">

                    </div>
                    <!-- img src="img/lazyload-ph.png" data-src="img/google%20map.png" class="img-fluid mx-auto d-block lazyload" alt="placeholder image" -->
                </div>
            </div>
        </div>
    </div>
    <!-- bloc-2 END -->

    <!-- ScrollToTop Button -->
    <a class="bloc-button btn btn-d scrollToTop" onclick="scrollToTarget('1',this)">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 32 32">
            <path class="scroll-to-top-btn-icon" d="M30,22.656l-14-13-14,13"/>
        </svg>
    </a>
    <!-- ScrollToTop Button END-->

</div>
<!-- Main container END -->


<!--<button onclick="getlist()">click to get list of json</button>-->
<!-- Additional JS -->
<script th:src="@{${staticpath}+'js/jquery-3.5.1.min.js?1269'}"></script>
<script th:src="@{${staticpath}+'js/bootstrap.bundle.min.js?6623'}"></script>
<script th:src="@{${staticpath}+'js/blocs.min.js?5905'}"></script>
<script th:src="@{${staticpath}+'js/lazysizes.min.js'}" defer></script><!-- Additional JS END -->
<script th:src="@{${staticpath}+'js/index.js'}" type="module"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
<script async
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAxiD1ccJ1pilqf4bAAaUTl0K3j6LEmHp0&callback=initMap">
</script>

<script>
  function initMap() {

  // The location of user
   var mylocation = { lat: 51.893497, lng: -8.491873 };

  // The map, centered at Uluru
   map = new google.maps.Map(document.getElementById("map"), {

    zoom: 18,

    center: mylocation,

  });

  var marker = new google.maps.Marker({

          	position: mylocation,

         	map: map

  		 	});

  getlist();

}

window.initMap = initMap;

</script>
<script>
 function changeMap(var1,var2) {

  // The location of user

  var mylocation = { lat: var1, lng: var2 };

  console.log(var1);

  console.log(var2);

  map.setCenter({
		lat : var1,
		lng : var2
	});

  map.setZoom(18);

  var marker = new google.maps.Marker({

	position: mylocation,

	map: map

	});

  }

</script>
<script>
	function show_details(id){

	var latitude = $("#latitude"+id).val();

	var longitude = $("#longitude"+id).val();

	var currentvolume = $("#currentvolume"+id).val();

	var noiserate = $("#noiserate"+id).val();

	$("#id").text("id "+id);

	$("#latitude").text("latitude " + latitude);

	$("#longitude").text("longitude " + longitude);

	$("#currentvolume").text("currentvolume "+ currentvolume);

	$("#noiserate").text("noiserate "+noiserate);

	var noiseraten = parseInt(noiserate);

	$("#starbar").empty();

	for ( let i = noiseraten ; i>0 ; i--){

	$("#starbar").append("<span class='fa fa-star checked'></span>");

	}

	changeMap(Number(latitude),Number(longitude));

	}

</script>
<script>
	function getlist(){

	$.get("getlist", function(data){


         for( let i = 0 ; i < data.length ; i++ ){

           var latitude = data[i].latitude;

           var longtitude = data[i].longtitude;

           var mylocation = { lat: latitude, lng: longtitude };

           var marker = new google.maps.Marker({

          	position: mylocation,

         	map: map

  		 	});


         }



    });

	}

</script>
</body>
</html>
